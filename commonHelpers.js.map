{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default function createMarkup(images){\n    return images\n    .map(\n        ({\n            webformatURL,\n            largeImageURL,\n            tags,\n            likes,\n            views,\n            comments,\n            downloads,\n        }) => {\n            return  `<li class=\"photo-main-list\">\n            <a class=\"galery-link\"  href=\"${largeImageURL}\">\n            <img class=\"photo\" width=\"360\" height=\"200\" src=\"${webformatURL}\" alt=\"${tags}\" />\n            </a>\n              <ul class='list-menu'>\n                <li class='description'>\n                  <h3 class='title'>Likes</h3>\n                  <p class='datas'>${likes}</p>\n                </li>\n                <li class='description'>\n                  <h3 class='title'>Views</h3>\n                  <p class='datas'>${views}</p>\n                </li>\n                <li class='description'>\n                  <h3 class='title'>Comments</h3>\n                  <p class='datas'>${comments}</p>\n                </li>\n                <li class='description'>\n                  <h3 class='title'>Downloads</h3>\n                  <p class='datas'>${downloads}</p>\n                </li>\n              </ul>\n            </li>`;\n        }\n    )\n    .join('');\n}","const KEY = '42798592-8749f29b0ab38d706b4d97822';\nconst BASE_URI = 'https://pixabay.com/api/';\nconst IMAGE_TYPE = 'photo';\nconst ORIENTATION = 'horizontal'\nconst SAFESEARCH = 'true';\n\nexport default function getImages(input){\n    const QUERY = input.trim();\n    const LINK = `${BASE_URI}?key=${KEY}&q=${QUERY}&image_type=${IMAGE_TYPE}&orientation=${ORIENTATION}&safesearch=${SAFESEARCH} `;\n\n    return fetch(LINK)\n        .then(response => {\n            if (!response.ok){\n                throw new Error(response.status)\n            }\n            return response.json()\n        })\n\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport createMarkup from './js/render-functions';\nimport getImages from \"./js/pixabay-api\";\n\nconst list = document.querySelector('.todo-list');\nconst input = document.querySelector('.input-text');\nconst form = document.querySelector('.main-form');\nconst loader = document.querySelector('.loader');\n\nloader.style.display = 'none';\n\n\nform.addEventListener('submit', function handler(event){\n    event.preventDefault();\n    list.style.marginTop = '60px';\n\n    loader.style.display = 'inline-block';\n\n    getImages(input.value)\n    .then(data => {\n        const images = data.hits;\n        if(images.length === 0 ){\n            list.innerHTML='';\n            return handlerError();\n        }else{\n            list.innerHTML = createMarkup(images);\n            const lightbox = new SimpleLightbox('.todo-list a.galery-link',{\n                captionsData: 'alt',\n                captionDelay: 500,\n            });\n            lightbox.refresh();\n        }\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n        loader.style.display = 'none';\n    });\n    input.value = '';\n});\n\nfunction handlerError(){\n    iziToast.error({\n        maxWidth: '432px',\n        messageSize: '16px',\n        titleColor: ' #fafafb',\n        messageColor: '#fff',\n        message: `Sorry, there are no images matching your search query. Please try again!`,\n        closeOnEscape: true,\n        position: 'topRight',\n        backgroundColor: '#ed6f7c',\n    });\n}"],"names":["createMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","KEY","BASE_URI","IMAGE_TYPE","ORIENTATION","SAFESEARCH","getImages","input","QUERY","LINK","response","list","form","loader","event","data","handlerError","SimpleLightbox","error","iziToast"],"mappings":"6vBAAe,SAASA,EAAaC,EAAO,CACxC,OAAOA,EACN,IACG,CAAC,CACG,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACZ,IACoB;AAAA,4CACwBL,CAAa;AAAA,+DACMD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qCAKpDC,CAAK;AAAA;AAAA;AAAA;AAAA,qCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,qCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,qCAIRC,CAAS;AAAA;AAAA;AAAA,kBAKzC,EACA,KAAK,EAAE,CACZ,CCtCA,MAAMC,EAAM,qCACNC,EAAW,2BACXC,EAAa,QACbC,EAAc,aACdC,EAAa,OAEJ,SAASC,EAAUC,EAAM,CACpC,MAAMC,EAAQD,EAAM,OACdE,EAAO,GAAGP,CAAQ,QAAQD,CAAG,MAAMO,CAAK,eAAeL,CAAU,gBAAgBC,CAAW,eAAeC,CAAU,IAE3H,OAAO,MAAMI,CAAI,EACZ,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,KAAM,CAClC,CAAS,CAET,CCTA,MAAMC,EAAO,SAAS,cAAc,YAAY,EAC1CJ,EAAQ,SAAS,cAAc,aAAa,EAC5CK,EAAO,SAAS,cAAc,YAAY,EAC1CC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAGvBD,EAAK,iBAAiB,SAAU,SAAiBE,EAAM,CACnDA,EAAM,eAAc,EACpBH,EAAK,MAAM,UAAY,OAEvBE,EAAO,MAAM,QAAU,eAEvBP,EAAUC,EAAM,KAAK,EACpB,KAAKQ,GAAQ,CACV,MAAMtB,EAASsB,EAAK,KACpB,GAAGtB,EAAO,SAAW,EACjB,OAAAkB,EAAK,UAAU,GACRK,EAAY,EAEnBL,EAAK,UAAYnB,EAAaC,CAAM,EACnB,IAAIwB,EAAe,2BAA2B,CAC3D,aAAc,MACd,aAAc,GAC9B,CAAa,EACQ,QAAO,CAE5B,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACXL,EAAO,MAAM,QAAU,MAC/B,CAAK,EACDN,EAAM,MAAQ,EAClB,CAAC,EAED,SAASS,GAAc,CACnBG,EAAS,MAAM,CACX,SAAU,QACV,YAAa,OACb,WAAY,WACZ,aAAc,OACd,QAAS,2EACT,cAAe,GACf,SAAU,WACV,gBAAiB,SACzB,CAAK,CACL"}